<%- include('../partials/header.ejs') %>

<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <h3>Delete Brand <%= brand.name %> </h3>
                    <% if (brand_cabinets.length || 
                    brand_gpus.isLength  ||
                    brand_motherboards.isLength ||
                    brand_powersupplies.isLength ||
                    brand_rams.isLength ||
                    brand_storages.isLength ) { %>
                        <p><strong>Delete or update the following things before attempting to delete this brand.</strong></p>
                        
                            <div class="container">
                            <br>
                            <div class="row">
                                <div class="col-md-6">
                                <h4 class="text-light bg-dark p-3">Cabinets</h4>
                                <% if(brand_cabinets.length > 0){ %>
                                <ul class="list-group">
                                    <% brand_cabinets.forEach(function(cabinet){ %>
                                    <li class="list-group-item">
                                        <a href="<%= cabinet.url %>" class="text-dark"><%= cabinet.name %></a>
                                    </li>
                                    <% }); %>
                                </ul>
                                <% } else { %>
                                <p class="text-danger">This brand has no cabinets</p>
                                <% } %>
                                </div>
                                <div class="col-md-6">
                                <h4 class="text-light bg-dark p-3">GPUs</h4>
                                <% if(brand_gpus.length > 0){ %>
                                <ul class="list-group">
                                    <% brand_gpus.forEach(function(gpu){ %>
                                    <li class="list-group-item">
                                        <a href="<%= gpu.url %>" class="text-dark"><%= gpu.name %></a>
                                    </li>
                                    <% }); %>
                                </ul>
                                <% } else { %>
                                <p class="text-danger">This brand has no GPUs</p>
                                <% } %>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                <h4 class="text-light bg-dark p-3">Motherboards</h4>
                                <% if(brand_motherboards.length > 0){ %>
                                <ul class="list-group">
                                    <% brand_motherboards.forEach(function(motherboard){ %>
                                    <li class="list-group-item">
                                        <a href="<%= motherboard.url %>" class="text-dark"><%= motherboard.name %></a>
                                    </li>
                                    <% }); %>
                                </ul>
                                <% } else { %>
                                <p class="text-danger">This brand has no motherboards</p>
                                <% } %>
                                </div>
                                <div class="col-md-6">
                                <h4 class="text-light bg-dark p-3">Power Supplies</h4>
                                <% if(brand_powersupplies.length > 0){ %>
                                <ul class="list-group">
                                    <% brand_powersupplies.forEach(function(powersupply){ %>
                                    <li class="list-group-item">
                                        <a href="<%= powersupply.url %>" class="text-dark"><%= powersupply.name %></a>
                                    </li>
                                    <% }); %>
                                    </ul>
                                    <% } else { %>
                                    <p class="text-danger">This brand has no power supplies</p>
                                    <% } %>
                                    </div>
                                    
                                    </div>
                                    <div class="row">
                                        <div class="col-md-6">
                                        <h4 class="text-light bg-dark p-3">RAMs</h4>
                                        <% if(brand_rams.length > 0){ %>
                                        <ul class="list-group">
                                            <% brand_rams.forEach(function(ram){ %>
                                            <li class="list-group-item">
                                                <a href="<%= ram.url %>" class="text-dark"><%= ram.name %></a>
                                            </li>
                                            <% }); %>
                                        </ul>
                                        <% } else { %>
                                        <p class="text-danger">This brand has no RAMs</p>
                                        <% } %>
                                        </div>
                                        <div class="col-md-6">
                                        <h4 class="text-light bg-dark p-3">Storages</h4>
                                        <% if(brand_storages.length > 0){ %>
                                        <ul class="list-group">
                                            <% brand_storages.forEach(function(storage){ %>
                                            <li class="list-group-item">
                                                <a href="<%= storage.url %>" class="text-dark"><%= storage.name %></a>
                                            </li>
                                            <% }); %>
                                        </ul>
                                        <% } else { %>
                                        <p class="text-danger">This brand has no Storages</p>
                                        <% } %>
                                        </div>
                                    </div>
                                    </div>

                    <% } else { %>
                        <div class="card-body">
                            <p>Are you sure you want to delete the following brand?</p>
                            <h4><%= brand.name %></h4>
                            <form action="" method="post">
                                <input type="hidden" name="brandid" value="<%= brand._id %>" required>
                                <div class="form-group">
                                    <button type="submit" class="btn btn-danger">Delete</button>
                                    <a href="/components/brands" class="btn btn-secondary">Cancel</a>
                                </div>
                            </form>
                        </div>
                    <% } %>
                    <div class="row">
                        <div class="col-md-12">
                            <br>
                            <a href="javascript:history.back()" class="btn btn-primary">Go Back</a>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>
</div>

<%- include('../partials/footer.ejs') %>
