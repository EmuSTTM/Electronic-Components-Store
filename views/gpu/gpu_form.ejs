<%- include('../partials/header.ejs') %>

<form action="" method="post" enctype="multipart/form-data">
    <div class="form-group">
        <label for="name">Name</label>
        <input type="text" class="form-control" name="name" id="name" value="<%= (typeof gpu === 'undefined' ? '' : gpu.name) %>" required>
    </div>
    <div class="form-group">
        <label for="image">Image</label>
        <p class="alert-danger">For the moment, you can have only one image for product. In the future, this functionality will be expanded</p>
        <input type="file" multiple name="image" id="image"  class="form-control" >
    </div>
    <div class="form-group">
        <label for="brand">Brand</label>
        <div>
            <% for (let brand of brands) { %>
                <input type="checkbox" name="brand" id="<%= brand._id %>" value="<%= brand._id %>" %>" <%= brand.checked ? 'checked' : '' %>>
                <label for="<%= brand._id %>"> <%= brand.name %> </label> 
            <% } %>
<div class="invalid-feedback">
    <% if(typeof errors !== 'undefined'){ %>
        <% errors.forEach(function(error) { %>
            <% if (error.param === 'brand') { %>
                <div class="alert alert-danger">
                    <%= error.msg %>
                </div>
            <% }; %>
          <% }); %>
    
<% } %></div>
</div>
</div>
<div class="form-group">
<label for="model">Model</label>
<input type="text" class="form-control" name="model" id="model" required value="<%= (typeof gpu === 'undefined' ? '' : gpu.model) %>">
</div>
<div class="form-group">
<label for="core_clock">Core Clock</label>
<input " class="form-control" name="core_clock" id="core_clock" min="0" value="<%= (typeof gpu === 'undefined' ? '' : gpu.core_clock) %>" placeholder="XXXX MHz" required>
</div>
<div class="form-group">
<label for="boost_clock">Boost Clock</label>
<input  class="form-control" name="boost_clock" id="boost_clock" min="0" placeholder="XXXX MHz" value="<%= (typeof gpu === 'undefined' ? '' : gpu.boost_clock) %>"required>
</div>
<div class="form-group">
<label for="memory">Memory</label>
<input type="text" class="form-control" value="<%= (typeof gpu === 'undefined' ? '' : gpu.core_clock) %>" name="memory" id="memory" placeholder="X GB" required>
</div>
<div class="form-group">
<label for="memory_type">Memory Type</label>
<select class="form-control" name="memory_type" id="memory_type" required>
    
    <option <%= (typeof gpu !== 'undefined' && "GDDR5" === gpu.memory_type) ? 'selected' : '' %> value="GDDR5">GDDR5</option>
    <option <%= (typeof gpu !== 'undefined' && "GDDR6" === gpu.memory_type) ? 'selected' : '' %> value="GDDR6">GDDR6</option>
    <option <%= (typeof gpu !== 'undefined' && "GDDR7" === gpu.memory_type) ? 'selected' : '' %> value="GDDR7">GDDR7</option>
  </select>
</div>
<div class="form-group">
<label for="tdp">TDP</label>
<input type="number" value="<%= (typeof gpu === 'undefined' ? '' : gpu.tdp) %>" class="form-control" name="tdp" id="tdp" min="0" placeholder="Watts" required>
</div>
<div class="form-group">
    <label for="stream_processors">Stream Processors</label>
    <input type="number" class="form-control" value="<%= (typeof gpu === 'undefined' ? '' : gpu.stream_processors) %>"name="stream_processors" id="stream_processors" min="0" required>
    </div>
<div class="form-group">
<label for="price">Price</label>
<input type="number" class="form-control" value="<%= (typeof gpu === 'undefined' ? '' : gpu.price) %>" name="price" id="price" min="0">
  
</div>
<button type="submit" class="btn btn-primary">Submit</button>
</form><br>
<% if(typeof errors !== 'undefined'){ %>
    <% errors.forEach(function(error) { %>
        <div class="alert alert-danger">
            <%= error.msg %>
        </div>
    <% }); %>
<% } %>

</div>
</div>
</div>

<%- include('../partials/footer.ejs') %>